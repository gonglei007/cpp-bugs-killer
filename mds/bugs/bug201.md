<h2 align="center">空字符串检查</h2>

## 找Bug

这段代码的意图是：确保指针`m_szPassword`不是空指针，并且其内容也不是空字符串。看看有什么问题？

```cpp
char *CUT_CramMd5::GetClientResponse(LPCSTR ServerChallenge) 
{ 
	... 
	if (m_szPassword != NULL) 
	{ 	
		... 	
		if (m_szPassword != '\0') 
		{ 	
			... 	
		}   
	}  
}
```

### 说明

问题出在 `if (m_szPassword != '\0')` 这一行。

**错误分析：**
- `m_szPassword` 是一个指针（`char*`），而 `'\0'` 是一个字符常量
- 这里比较的是指针地址和字符值，而不是指针指向的内容
- 应该使用解引用操作符 `*` 来访问指针指向的字符

**正确的写法：**
```cpp
if (*m_szPassword != '\0')
```

或者更安全的写法（先检查指针是否为空）：
```cpp
if (m_szPassword != NULL && *m_szPassword != '\0')
```

**要点：**
- 指针比较 vs 值比较：`m_szPassword != '\0'` 比较的是指针地址，而不是字符串内容
- 解引用操作：需要使用 `*` 操作符来访问指针指向的值
- 空指针检查：在解引用指针之前，应该先检查指针是否为 `NULL`

---
* [示例代码](../../source/bug201/source/main.cpp)
---

## 拓展阅读
* [100 bugs in Open Source C/C++ projects](https://pvs-studio.com/en/blog/posts/cpp/a0079/)
