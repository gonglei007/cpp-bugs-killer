<h2 align="center">if-else 悬挂问题</h2>

## 找Bug

这段代码有什么问题？

```cpp
void BCMenu::InsertSpaces(void)
{
  if(IsLunaMenuStyle())
    if(!xp_space_accelerators) return;
  else
    if(!original_space_accelerators) return;
  ...
}
```

### 说明

**问题分析：**

这是一个经典的"悬挂else"（dangling else）问题。在C++中，`else` 总是与最近的 `if` 匹配。

**我们希望的逻辑是：**
```cpp
if(IsLunaMenuStyle()) {
  if(!xp_space_accelerators) return;
} else {
  if(!original_space_accelerators) return;
}
```

**但实际逻辑是：**
```cpp
if(IsLunaMenuStyle()) {
  if(!xp_space_accelerators) {
    return;
  } else {
    if(!original_space_accelerators) return;
  }
}
```

**正确的写法：**

使用大括号明确代码块：
```cpp
void BCMenu::InsertSpaces(void)
{
  if(IsLunaMenuStyle()) {
    if(!xp_space_accelerators) return;
  } else {
    if(!original_space_accelerators) return;
  }
  ...
}
```

**要点：**
- else匹配规则：`else` 总是与最近的未匹配的 `if` 匹配
- 代码风格：即使只有一行代码，也建议使用大括号
- 可读性：大括号可以提高代码的可读性和可维护性

---
* [示例代码](../../source/bug302/source/main.cpp)

## 拓展阅读
* [Dangling else problem](https://en.wikipedia.org/wiki/Dangling_else)

